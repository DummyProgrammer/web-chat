<!DOCTYPE html>

<html>
<header>
<title>Web Messenger deploy</title>

<body onload="HideMessenger()">

  <h2 style="text-decoration: underline;">Web Messenger Demo</h2>
  <form id="chatForm">
      <table class="webmessenger-config" >
          <tbody>
              <tr>
                  <th>First Name:</th>
                  <td><input type="text" id="first-name" value="Secret" /></td>
              </tr>
              <tr>
                  <th>Last Name:</th>
                  <td><input type="text" id="last-name" value="Agent" /></td>
              </tr>
      <tr>
                  <th>Email:</th>
                  <td><input type="text" id="emailaddress" value="dummy@gmail.com" /></td>
              </tr>
      
          </tbody>
      </table>
      <button type="button" onclick="ShowMessenger()">Set Participant Info</button>
  </form>
  <div style="height:600px" id="chat-container"></div>
	
    <script type="text/javascript" charset="utf-8">
        (function (g, e, n, es, ys) {
          g['_genesysJs'] = e;
          g[e] = g[e] || function () {
            (g[e].q = g[e].q || []).push(arguments)
          };
          g[e].t = 1 * new Date();
          g[e].c = es;
          ys = document.createElement('script'); ys.async = 1; ys.src = n; ys.charset = 'utf-8'; document.head.appendChild(ys);
        })(window, 'Genesys', 'https://apps.usw2.pure.cloud/genesys-bootstrap/genesys.min.js', {
          environment: 'prod-usw2',
          deploymentId: '3603517e-8e97-4739-bf3c-75e221b410b4'
        });


        function HideMessenger()
          {
            Genesys("command", "Messenger.close");
          } 

        function ShowMessenger() {


            var firstName = document.getElementById('first-name').value; 
            var lastName = document.getElementById('last-name').value;
            var emailAddress = document.getElementById('emailaddress').value;

            Genesys("command", "Messenger.open");

              Genesys("command", "Database.set", {
              messaging: {
                customAttributes: {
                email: emailAddress,
                name: firstName,
                surname: lastName
                }
              }  
            });
            }	
      </script>

      

<script>
    (function(a,t,c,l,o,u,d){a['_genesysJourneySdk']=o;a[o]=a[o]||function(){
    (a[o].q=a[o].q||[]).push(arguments)},a[o].l=1*new Date();u=t.createElement(c),
    d=t.getElementsByTagName(c)[0];u.async=1;u.src=l;u.charset='utf-8';d.parentNode.insertBefore(u,d)
    })(window, document, 'script', 'https://apps.usw2.pure.cloud/journey/sdk/js/web/v1/ac.js', 'ac');
    ac('init', '24ce1b9d-76d9-4cf1-a22d-0733aef95363', { region: 'usw2' });
    ac('pageview');
  </script>

  </body>
  </header>
  </html>
  